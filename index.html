<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>

    <!-- <base href="/usha-healthcare/" /> -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Usha Healthcare - Medical Equipment</title>
    <link rel="stylesheet" href="Styles/index.css" />
    <!-- Font Awesome for icons - Using the solid theme for consistency -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <!-- Google Fonts for improved typography -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Model Viewer (consolidated into one import) -->
    <script
      type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"
    ></script>
  </head>
  <body>
    <!-- Header -->

    <header class="header">
      <!-- Left - Logo and Navigation -->
      <div class="header-left">
        <img
          src="images/Logo.png"
          alt="Usha Healthcare Logo"
          class="logo-img"
        />

        <!-- Main Navigation -->
        <nav class="main-nav">
          <a href="index.html" class="active">Home</a>
          <a href="products.html">Products</a>
          <a href="Resources/catalogue_15.pdf" target="_blank">Catalog</a>
          <a href="Contact.html">Contact</a>
        </nav>
      </div>

      <!-- Center - Search Bar -->
      <div class="header-center">
        <div class="search-container">
          <input type="text" placeholder="Search for products..." />
          <button type="submit"><i class="fas fa-search"></i></button>
          <div class="search-suggestions"></div>
        </div>
      </div>

      <!-- Right - Icons -->
      <div class="header-right">
        <!-- Dark Mode Toggle -->
        <!-- <div class="header-icon theme-toggle">
          <i class="fas fa-moon"></i>
          <span class="icon-label">Theme</span>
        </div> -->

        <!-- Help Icon -->
        <!-- <div class="header-icon">
          <i class="fas fa-headset"></i>
          <span class="icon-label">Help</span>
        </div> -->

        <!-- Profile Icon -->
        <!-- <div class="header-icon profile-icon">
          <i class="fas fa-user"></i>
          <span class="icon-label">Account</span> -->
        <!-- Profile Dropdown -->
        <!-- <div class="profile-dropdown">
            <a href="#"><i class="fas fa-user"></i> My Profile</a>
            <a href="#"><i class="fas fa-file-alt"></i> Orders</a>
            <a href="#"><i class="fas fa-cog"></i> Settings</a>
            <a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a>
          </div>
        </div> -->

        <!-- Cart Icon -->
        <!-- <div class="header-icon">
          <i class="fas fa-shopping-cart"></i>
          <span class="icon-label">Cart</span>
          <span class="cart-count">0</span>
        </div> -->

        <!-- Mobile hamburger menu -->
        <div class="mobile-menu-toggle">
          <i class="fas fa-bars"></i>
        </div>
      </div>

      <!-- ✅ Mobile Navigation Menu -->
      <div class="mobile-nav">
        <a href="index.html"><i class="fas fa-home"></i> Home</a>
        <a href="products.html"><i class="fas fa-box"></i> Products</a>
        <a href="Resources/catalogue_15.pdf" target="_blank"
          ><i class="fas fa-file-download"></i> Catalog</a
        >

        <a href="Contact.html"><i class="fas fa-envelope"></i> Contact</a>
      </div>
    </header>

    <!-- Hero Welcome Section -->
    <!-- Hero Welcome Section -->
    <section class="hero-welcome">
      <h1>Welcome to Usha Healthcare</h1>
      <p>
        Since March 2005, UshaHealthcare has been a trusted name in the
        manufacturing and trading of anaesthesia machine delivery systems. We
        are committed to delivering the highest level of patient safety and have
        built a strong reputation for dependable products and services.
      </p>
      <p>
        At Usha Healthcare, we believe that the standard of patient care must
        never be compromised by the reliability of medical equipment. That’s why
        we design, develop, and market a wide range of high-quality medical
        devices for nursing homes and hospitals across the country.
      </p>
      <p>
        People across India trust our innovative solutions for superior
        protection and consistent performance in critical healthcare
        environments.
      </p>
    </section>

    <section class="trust-heading">
      <h2>Trusted by Leading Healthcare Providers</h2>
    </section>

    <section class="company-logos"></section>

    <!-- Company Logos Carousel Section -->
    <section class="company-logos">
      <div class="logos-container">
        <div class="logo">
          <img src="Logos/Life_healthcare.jpg" alt="Life Healthcare Hospital" />
        </div>

        <div class="logo">
          <img src="Logos/Philips.jpg" alt="Philips" />
        </div>

        <div class="logo">
          <img src="Logos/Rg.jpg" alt="RG Scientific Enterprises Pvt. Ltd." />
        </div>
        <div class="logo">
          <img src="Logos/CMC.jpg" alt="CMC Hospital" />
        </div>

        <div class="logo">
          <img src="Logos/Maheshwari.jpg" alt="Maheshwari Hospital" />
        </div>
        <div class="logo">
          <img src="Logos/CMI_Hospital.jpg" alt="CMI Hospital" />
        </div>
        <div class="logo">
          <img src="Logos/Cribs_Hospital.jpg" alt="Cribs Hospital" />
        </div>
        <div class="logo">
          <img src="Logos/aprayema.jpg" alt="Aprameya Engineering Limited" />
        </div>

        <div class="logo">
          <img src="Logos/Kumar_hospi.jpg" alt="Kumar Hospital" />
        </div>

        <div class="logo">
          <img src="Logos/orthocare.jpg" alt="Ortho Care Hospital" />
        </div>
        <div class="logo">
          <img
            src="Logos/rg_stone.jpg"
            alt="RG Stone Urology & Laparoscopy Hospital"
          />
        </div>

        <div class="logo">
          <img
            src="Logos/maharaja_agarsan.jpg"
            alt="Maharaja Agarsain Hospital"
          />
        </div>
        <div class="logo">
          <img src="Logos/santom .jpg" alt="Santom Hospital" />
        </div>

        <div class="logo">
          <img src="Logos/airmid.jpg" alt="Airmid Hospital" />
        </div>

        <div class="logo">
          <img src="Logos/sunetra.jpg"Sunetra Super Speciality Eye Care Centre">
        </div>

        <div class="logo">
          <img src="Logos/dcwa.jpg" alt="DCWA Medical Center" />
        </div>
        <div class="logo">
          <img src="Logos/ghai.jpg" alt="Ghai Hospital" />
        </div>

        <div class="logo">
          <img src="Logos/hope_hospital.jpg" alt="THE HOPE HOSPITAL" />
        </div>
        <div class="logo">
          <img
            src="Logos/satya.jpg"
            alt="Satya Skin & Hair Care Private Limited"
          />
        </div>

        <div class="logo">
          <img src="Logos/Versamed.jpg" alt="Versamed" />
        </div>
        <div class="logo">
          <img src="Logos/dragger.jpg" alt="Drager" />
        </div>

        <div class="logo">
          <img src="Logos/zaocare.jpg" alt="ZAO Care Technologies" />
        </div>
      </div>
    </section>

    <div style="overflow: hidden; line-height: 0">
      <svg
        viewBox="0 0 500 100"
        preserveAspectRatio="none"
        style="display: block; width: 100%; height: 80px"
      >
        <path
          d="M0,0 C150,100 350,0 500,100 L500,00 L0,0 Z"
          style="stroke: none; fill: #ffffff"
        ></path>
      </svg>
    </div>

    <section id="recent-products">
      <h2>Featured Products</h2>
      <p class="section-subtitle">
        Explore our high-quality medical equipment with interactive 3D models
      </p>
      <div class="catalogue-grid" id="dynamic-catalogue-grid">
        <!-- Product 1: Anesthesia Cart (3D) -->
        <div class="catalogue-card">
          <model-viewer
            src="images/anesthesia-cart.glb"
            alt="Anesthesia Cart 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="180deg 85deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>Anesthesia Cart</h3>
          <p>
            Advanced anesthesia cart designed for mobility and storage in
            critical care.
          </p>
          <!-- Anesthesia Cart -->
          <button>View Details</button>
        </div>

        <!-- Product 2: Anesthesia Machine -->
        <div class="catalogue-card">
          <model-viewer
            src="images/anesthesia-machine.glb"
            alt="Anesthesia Machine 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="90deg 85deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>Anesthesia Machine</h3>
          <p>
            High-precision anesthesia machine with monitoring and ventilation
            support.
          </p>
          <!-- Anesthesia Machine -->
          <button>View Details</button>
        </div>

        <!-- Product 3: Operation Theatre Light -->
        <div class="catalogue-card">
          <model-viewer
            src="images/OT light.glb"
            alt="Operation Theatre Light 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="90deg 85deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>LED OT Light</h3>
          <p>
            Shadow-free LED light for surgical precision and energy efficiency.
          </p>
          <!-- LED OT Light -->
          <button>View Details</button>
        </div>

        <!-- Product 4: ICU Bed -->
        <div class="catalogue-card">
          <model-viewer
            src="images/icubed.glb"
            alt="ICU Bed 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="180deg 90deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>ICU Bed</h3>
          <p>
            Multi-position ICU bed designed for comfort, monitoring, and
            caregiver ease.
          </p>
          <!-- ICU Bed -->
          <button>View Details</button>
        </div>

        <!-- Product 5: Steam Sterilizer -->
        <div class="catalogue-card">
          <model-viewer
            src="images/Steam Sterilizer.glb"
            alt="Steam Sterilizer 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="80deg 90deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>Steam Sterilizer</h3>
          <p>
            Steam sterilizer for safe disinfection of medical and surgical
            instruments.
          </p>
          <!-- Steam Sterilizer -->
          <button>View Details</button>
        </div>

        <!-- Product 6: Endoscopic stand -->
        <div class="catalogue-card">
          <model-viewer
            src="images/Endoscopic_stand.glb"
            alt="Endoscopic Stand 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="90deg 90deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>Laproscopic Trolley</h3>
          <p>
            Mobile trolley for organizing and transporting laparoscopic tools
            efficiently.
          </p>
          <!-- Laproscopic Trolley -->
          <button>View Details</button>
        </div>

        <!-- Product 7: anesthesia vaporizer -->
        <div class="catalogue-card">
          <model-viewer
            src="images/Anesthesia_vaporiser.glb"
            alt="Endoscopic Stand 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="90deg 90deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>Anesthesia vaporizer</h3>
          <p>Reliable vaporizer for controlled delivery of anesthetic gases.</p>
          <!-- Anesthesia Vaporizer -->
          <button>View Details</button>
        </div>

        <div class="catalogue-card">
          <model-viewer
            src="images/Dialysis_bed.glb"
            alt="Endoscopic Stand 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="360deg 90deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>Dialysis Bed (Electric)</h3>
          <p>
            Fully adjustable electric dialysis bed for patient comfort and
            accessibility.
          </p>
          <!-- Dialysis Bed (Electric) -->
          <button>View Details</button>
        </div>

        <!-- Product 9: monitor-->
        <div class="catalogue-card">
          <model-viewer
            src="images/Patient_monitor.glb"
            alt="Endoscopic Stand 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="90deg 90deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>CMS8000 Patient Monitor</h3>
          <p>
            Multi-parameter monitor for real-time tracking of patient vitals.
          </p>
          <!-- CMS8000 Patient Monitor -->
          <button>View Details</button>
        </div>

        <!-- Product 10: ANAESTHESIA-VENTILATOR-->
        <div class="catalogue-card">
          <model-viewer
            src="images/anesthesia_ventilator.glb"
            alt="Endoscopic Stand 3D Model"
            camera-controls
            disable-zoom
            disable-pan
            disable-tap
            interaction-prompt="none"
            auto-rotate
            background-color="#FFFFFF"
            camera-orbit="90deg 90deg auto"
            style="width: 100%; height: 250px; border-radius: 10px"
          ></model-viewer>
          <h3>Anaesthesia-Ventilator</h3>
          <p>
            Integrated anesthesia ventilator ensuring consistent and safe
            respiration.
          </p>
          <!-- Anesthesia Ventilator -->
          <button>View Details</button>
        </div>

        <!-- Add more model-viewer cards as needed -->
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>&copy; 2025 Usha Healthcare. All rights reserved.</p>
    </footer>

    <!-- Popup Container -->
    <div id="popup-container" class="popup-container">
      <div class="popup-content">
        <span class="close-popup">&times;</span>
        <div id="popup-content-inner">
          <!-- Content will be inserted here dynamically -->
        </div>
      </div>
    </div>

    <script>
      let allProducts = []; // global variable
    </script>

    <!-- JavaScript for site functionality -->
    <script>
      // Product popup functionality
      const viewButtons = document.querySelectorAll(
        ".catalogue-card button.view-details"
      );
      const popupContainer = document.getElementById("popup-container");
      const closeButton = document.querySelector(".close-popup");
      const popupContent = document.getElementById("popup-content-inner");

      // Product details data with correct file paths
      const productDetails = {
        "Anesthesia Cart": {
          title: "Anesthesia Cart",
          description:
            "Premium anesthesia cart designed for hospital use with maximum mobility and storage capacity. Features include lockable drawers, smooth-rolling casters, and antimicrobial surfaces for infection control.",
          specifications: [
            "Dimensions: 900mm × 500mm × 1000mm",
            "Drawer configuration: 5 standard drawers",
            "Material: Medical-grade stainless steel",
            "Weight capacity: 80kg",
            "Mobility: 360° swivel casters with brakes",
          ],
          features: [
            "Central locking system for all drawers",
            "Antimicrobial coating on all surfaces",
            "Ergonomic push handles",
            "IV pole attachment points",
            "Oxygen tank holder",
          ],
          modelPath: "images/anesthesia-cart.glb",
        },
        "Anesthesia Machine": {
          title: "Anesthesia Machine",
          description:
            "State-of-the-art anesthesia delivery system with integrated patient monitoring and gas delivery. Designed for ease of use in operating rooms and surgical centers with advanced safety features.",
          specifications: [
            "Ventilation modes: Volume control, pressure control, SIMV",
            "Gas monitoring: O₂, CO₂, N₂O, and anesthetic agents",
            "Display: 15-inch color touchscreen",
            "Battery backup: Up to 90 minutes",
            "Safety features: Low oxygen alarm, ventilator disconnect alarm",
          ],
          features: [
            "Electronic PEEP control",
            "Integrated capnography",
            "Advanced pressure support modes",
            "Automated self-test functionality",
            "Compact design for space efficiency",
          ],
          modelPath: "images/anesthesia-machine.glb",
        },
        "LED OT Light": {
          title: "LED OT Light",
          description:
            "High-intensity surgical illumination system with adjustable focus and temperature. Provides shadow-free lighting for precise surgical procedures with exceptional color rendering.",
          specifications: [
            "Light intensity: 160,000 lux",
            "Color temperature: 3500K-5000K (adjustable)",
            "LED lifespan: >50,000 hours",
            "Sterilizable handle: Yes",
            "Power consumption: 50W",
          ],
          features: [
            "Shadow-free illumination",
            "Color rendering index (CRI) > 95",
            "Touch panel control",
            "360° rotation capability",
            "Emergency battery backup",
          ],
          modelPath: "images/OT light.glb",
        },
        "ICU Bed": {
          title: "ICU Bed",
          description:
            "Advanced intensive care unit bed with multiple positioning options and integrated patient monitoring capabilities. Designed for maximum patient comfort and caregiver convenience.",
          specifications: [
            "Weight capacity: 250kg",
            "Positions: Trendelenburg, reverse Trendelenburg, cardiac chair",
            "Side rails: Collapsible with safety locks",
            "Height adjustment: 45-80cm",
            "Mattress: Pressure relief, anti-microbial",
          ],
          features: [
            "Digital angle indicators",
            "Integrated weight scale",
            "One-touch CPR position",
            "Nurse control panel lockout",
            "Auto-contour feature",
          ],
          modelPath: "images/icubed.glb",
        },
        "Steam Sterilizer": {
          title: "Steam Sterilizer",
          description:
            "High pressure cylindrical steam sterilizer designed for thorough disinfection of medical instruments and supplies. Features automatic controls and safety systems.",
          specifications: [
            "Chamber volume: 100 liters",
            "Operating temperature: 121°C - 134°C",
            "Maximum pressure: 2.2 bar",
            "Cycle time: 20-60 minutes (adjustable)",
            "Power supply: 220V, 50/60Hz",
          ],
          features: [
            "Microprocessor controlled operation",
            "Multiple sterilization programs",
            "Self-diagnostic system",
            "Door safety lock mechanism",
            "Automatic water filling system",
          ],
          modelPath: "images/Steam Sterilizer.glb",
        },
        "Laproscopic Trolley": {
          title: "Laproscopic Trolley",
          description:
            "Mobile endoscopic equipment stand with adjustable height and secure mounting options for endoscopy equipment and accessories. Designed for stability and convenience in operating rooms.",
          specifications: [
            "Height adjustment: 850-1200mm",
            "Base diameter: 600mm",
            "Weight capacity: 35kg",
            "Material: Medical-grade stainless steel",
            "Caster size: 75mm with brakes",
          ],
          features: [
            "Quick-release height adjustment",
            "Cable management system",
            "Multiple accessory hooks",
            "Anti-static wheels",
            "High stability base design",
          ],
          modelPath: "images/Endoscopic_stand.glb",
        },
        "Anesthesia vaporizer": {
          title: "Anesthesia vaporizer",
          description:
            "Precision anesthetic agent delivery system designed for accurate concentration control and patient safety. Compatible with multiple anesthetic agents and anesthesia machines.",
          specifications: [
            "Agent types: Isoflurane, Sevoflurane, Desflurane",
            "Output range: 0-5% concentration",
            "Flow range: 0.2-15L/min",
            "Temperature compensation: Automatic",
            "Filling system: Agent-specific, keyed filling",
          ],
          features: [
            "Precision concentration dial",
            "Temperature and flow compensated output",
            "Agent-specific safety mechanisms",
            "Easy mounting system",
            "Low internal resistance",
          ],
          modelPath: "images/Anesthesia_vaporiser.glb",
        },
        "Dialysis Bed (Electric)": {
          title: "Dialysis Bed (Electric)",
          description:
            "Specialized electric bed designed for dialysis treatments with adjustable positions for patient comfort and optimal access during procedures.",
          specifications: [
            "Weight capacity: 200kg",
            "Electric controls: Height, back, and leg adjustments",
            "Dimensions: 2100mm × 900mm × 500-850mm (adjustable height)",
            "Material: High-grade steel frame with ABS panels",
            "Power: 110-240V, battery backup",
          ],
          features: [
            "Specialized armrests for dialysis access",
            "Trendelenburg and reverse Trendelenburg positions",
            "Quick-drop CPR position",
            "Central locking system for wheels",
            "Washable antimicrobial surfaces",
          ],
          modelPath: "images/Dialysis_bed.glb",
        },
        "CMS8000 Patient Monitor": {
          title: "CMS8000 Patient Monitor",
          description:
            "Advanced multi-parameter patient monitoring system with high-resolution display and comprehensive vital signs tracking. Ideal for critical care and perioperative monitoring.",
          specifications: [
            "Display: 15-inch high-resolution color LCD",
            "Parameters: ECG, SpO2, NIBP, Respiration, Temperature, IBP",
            "Battery life: Up to 4 hours on full charge",
            "Memory: 72-hour trend data storage",
            "Connectivity: LAN, Wi-Fi, HL7 compatible",
          ],
          features: [
            "Multi-lead ECG monitoring with arrhythmia detection",
            "Advanced alarm management system",
            "Drug dose calculation feature",
            "Customizable screen layouts",
            "Integrated printer for instant reports",
          ],
          modelPath: "images/Patient_monitor.glb",
        },
        "Anaesthesia-Ventilator": {
          title: "Anaesthesia-Ventilator",
          description:
            "High-performance anesthesia ventilator providing reliable respiratory support during surgical procedures. Designed with precision controls and extensive monitoring capabilities.",
          specifications: [
            "Ventilation modes: Volume control, pressure control, PSV, SIMV",
            "Tidal volume range: 20mL to 1500mL",
            "Respiratory rate: 4 to 100 breaths/min",
            "PEEP range: 0 to 30 cmH2O",
            "Flow trigger sensitivity: 0.5 to 15 L/min",
          ],
          features: [
            "Real-time waveform displays",
            "Dynamic compliance compensation",
            "Integrated spirometry",
            "Apnea backup ventilation",
            "Low-flow anesthesia capability",
          ],
          modelPath: "images/anesthesia_ventilator.glb",
        },
      };

      // Add this CSS to your head or in your CSS file
      const newStyle = document.createElement("style");
      newStyle.textContent = `
        /* New popup layout styles */
        .popup-content-flex-new {
          position: relative;
          margin-bottom: 25px;
        }
        
        .popup-image-small {
          float: right;
          width: 200px;
          height: 200px;
          margin: 0 0 15px 15px;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: var(--card-shadow);
        }
        
        .popup-details-full {
          overflow: hidden;
        }
        
        .button-container {
          display: flex;
          justify-content: center;
          gap: 10px;
          margin-top: 0.5rem;
        }
        
        .view-details {
          flex: 1;
        }
        
        
        
       
        
       
        
        
      `;
      document.head.appendChild(newStyle);

      // Add click event to view details buttons
      document.addEventListener("DOMContentLoaded", function () {
        // First, ensure existing buttons have view-details class
        const buttons = document.querySelectorAll(".catalogue-card button");
        buttons.forEach((button) => {
          button.classList.add("view-details");
        });

        const catalogueCards = document.querySelectorAll(".catalogue-card");
        catalogueCards.forEach((card) => {
          const viewButton = card.querySelector("button");

          const buttonContainer = document.createElement("div");
          buttonContainer.className = "button-container";

          if (viewButton) {
            viewButton.parentNode.removeChild(viewButton);
            buttonContainer.appendChild(viewButton);
            card.appendChild(buttonContainer);
          }
        });
      });

      // Setup view detail buttons
      document.addEventListener("DOMContentLoaded", function () {
        const viewButtons = document.querySelectorAll(".view-details");

        viewButtons.forEach((button) => {
          button.addEventListener("click", function () {
            // Get the product title from the parent card
            const productTitle = this.closest(".catalogue-card")
              .querySelector("h3")
              .textContent.trim();
            const product = productDetails[productTitle];

            if (product) {
              // Build the popup content with small image in top right and text wrapping around
              let content = `
                <h2>${product.title}</h2>
                <div class="popup-content-flex-new">
                  <div class="popup-image-small">
                    <model-viewer
                      src="${product.modelPath}"
                      alt="${product.title} 3D Model"
                      auto-rotate
                      camera-controls
                      camera-orbit="0deg 75deg 2m"
                      background-color="#FFFFFF"
                      style="width: 100%; height: 100%;"
                    ></model-viewer>
                  </div>
                  <div class="popup-details-full">
                    <p class="popup-description">${product.description}</p>
                    
                    <h3>Specifications</h3>
                    <ul class="specifications-list">
                      ${product.specifications
                        .map((spec) => `<li>${spec}</li>`)
                        .join("")}
                    </ul>
                    
                    <h3>Key Features</h3>
                    <ul class="features-list">
                      ${product.features
                        .map((feature) => `<li>${feature}</li>`)
                        .join("")}
                    </ul>
                  </div>
                </div>
                <div class="popup-footer">
                  <button class="inquiry-button"><i class="fas fa-paper-plane"></i> Request Quote</button>
                  <button class="download-specs"><i class="fas fa-download"></i> Download Specifications</button>
                </div>
              `;

              // Insert content and show popup
              popupContent.innerHTML = content;
              popupContainer.style.display = "flex";
              document.body.style.overflow = "hidden"; // Prevent scrolling behind popup

              // Set up new buttons inside the popup
              document
                .querySelector(".inquiry-button")
                .addEventListener("click", function () {
                  alert(
                    "Thank you for your interest! Our team will contact you shortly."
                  );
                });

              document
                .querySelector(".download-specs")
                .addEventListener("click", function () {
                  alert(
                    "Specifications document is being prepared for download."
                  );
                });
            } else {
              console.error("Product not found:", productTitle);
              alert("Product details not available. Please try again.");
            }
          });
        });
      });

      // Close popup when clicking the X
      closeButton.addEventListener("click", function () {
        popupContainer.style.display = "none";
        document.body.style.overflow = ""; // Re-enable scrolling
      });

      // Close popup when clicking outside the content
      window.addEventListener("click", function (event) {
        if (event.target === popupContainer) {
          popupContainer.style.display = "none";
          document.body.style.overflow = ""; // Re-enable scrolling
        }
      });

      // Dark mode toggle functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Theme toggle functionality
        const themeToggle = document.querySelector(".theme-toggle");
        const htmlElement = document.documentElement;

        // Check for saved theme preference or respect OS preference
        const savedTheme =
          localStorage.getItem("theme") ||
          (window.matchMedia("(prefers-color-scheme: dark)").matches
            ? "dark"
            : "light");

        // Apply the saved theme
        htmlElement.setAttribute("data-theme", savedTheme);
        updateThemeIcon(savedTheme);

        themeToggle.addEventListener("click", function () {
          const currentTheme = htmlElement.getAttribute("data-theme");
          const newTheme = currentTheme === "light" ? "dark" : "light";

          htmlElement.setAttribute("data-theme", newTheme);
          localStorage.setItem("theme", newTheme);

          updateThemeIcon(newTheme);
        });

        function updateThemeIcon(theme) {
          const icon = themeToggle.querySelector("i");
          if (theme === "dark") {
            icon.className = "fas fa-sun";
          } else {
            icon.className = "fas fa-moon";
          }
        }

        // Mobile Navigation Menu Toggle
        const mobileMenuToggle = document.querySelector(".mobile-menu-toggle");
        const mobileNav = document.querySelector(".mobile-nav");

        if (mobileMenuToggle && mobileNav) {
          mobileMenuToggle.addEventListener("click", function () {
            mobileNav.classList.toggle("active");
          });

          // Close mobile menu when clicking anywhere else
          document.addEventListener("click", function (event) {
            if (
              !event.target.closest(".mobile-menu-toggle") &&
              !event.target.closest(".mobile-nav") &&
              mobileNav.classList.contains("active")
            ) {
              mobileNav.classList.remove("active");
            }
          });
        }

        // Search functionality
        const searchInput = document.querySelector(".search-container input");
        const searchButton = document.querySelector(".search-container button");
        const storedSearch = localStorage.getItem("searchQuery");
        if (storedSearch && searchInput) {
          searchInput.value = storedSearch; // ✅ sets the value in search bar
        }

        if (searchInput && searchButton) {
          searchButton.addEventListener("click", function () {
            performSearch();
          });

          searchInput.addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              performSearch();
            }
          });

          function performSearch() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            if (searchTerm) {
              // Here you would typically implement actual search functionality
            }
          }
        }
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const currentPath = window.location.pathname
          .split("/")
          .pop()
          .toLowerCase();

        // Desktop Nav
        document.querySelectorAll(".main-nav a").forEach((link) => {
          const href = link.getAttribute("href")?.toLowerCase();
          if (href && currentPath === href) {
            link.classList.add("active");

            // If it's inside a dropdown, also highlight the parent
            const dropdown = link.closest(".dropdown");
            if (dropdown) {
              dropdown.querySelector(".dropbtn")?.classList.add("active");
            }
          }
        });

        // Mobile Nav
        document.querySelectorAll(".mobile-nav a").forEach((link) => {
          const href = link.getAttribute("href")?.toLowerCase();
          if (href && currentPath === href) {
            link.classList.add("active");
          }
        });
      });
    </script>

    <script>
      fetch("recent-products.json")
        .then((res) => res.json())
        .then((products) => {
          const container = document.getElementById("recent-products-list");
          products.forEach((p) => {
            container.innerHTML += `
          <div class="product-card">
            <img src="${p.image}" alt="${p.name}" />
            <h3>${p.name}</h3>
            <p>${p.description}</p>
            <strong>${p.price}</strong>
          </div>
        `;
          });
        });
    </script>

    <script>
      fetch("data/all-products.json")
        .then((res) => res.json())
        .then((data) => {
          allProducts = data;

          const searchInput = document.querySelector(".search-container input");
          const suggestionBox = document.querySelector(".search-suggestions");

          searchInput.addEventListener("input", function () {
            const term = searchInput.value.trim().toLowerCase();
            suggestionBox.innerHTML = "";

            if (!term) {
              suggestionBox.style.display = "none";
              return;
            }

            const fuse = new Fuse(allProducts, {
              keys: ["title", "description", "category"],
              threshold: 0.4,
            });

            const results = fuse.search(term).slice(0, 5);

            if (results.length > 0) {
              results.forEach((r) => {
                const div = document.createElement("div");
                div.textContent = r.item.title;
                div.addEventListener("click", () => {
                  searchInput.value = r.item.title;
                  suggestionBox.style.display = "none";
                  localStorage.setItem("searchQuery", r.item.title);
                  window.location.href = "products.html";
                });
                suggestionBox.appendChild(div);
              });
              suggestionBox.style.display = "block";
            } else {
              suggestionBox.style.display = "none";
            }
          });
        });
    </script>

    <script src="search.js"></script>

    <div id="global-loader" class="loader-overlay">
      <div class="lds-ellipsis">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>

    <script>
      function showLoader() {
        document.getElementById("global-loader").style.display = "flex";
      }

      function hideLoader() {
        document.getElementById("global-loader").style.display = "none";
      }
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const models = document.querySelectorAll("model-viewer");
        let loadedCount = 0;

        if (models.length === 0) {
          hideLoader(); // no models to wait for
          return;
        }

        showLoader(); // show while loading models

        models.forEach((model) => {
          model.addEventListener("load", () => {
            loadedCount++;
            if (loadedCount === models.length) {
              hideLoader(); // all models loaded
            }
          });
        });

        // Fallback in case some model never loads
        setTimeout(() => hideLoader(), 10000);
      });
    </script>
    <script>
      const container = document.querySelector(".logos-container");
      const logos = container.innerHTML;
      container.innerHTML += logos; // only duplicate the logos, not the container
    </script>
  </body>
</html>
